
/*! modernizr 3.3.1 (Custom Build) | MIT *
 * https://modernizr.com/download/?-csstransitions-forcetouch-touchevents-domprefixes-prefixes-setclasses-shiv-teststyles !*/
!function(ak,V,ab){function Y(b,a){return typeof b===a}function aa(){var h,f,k,j,d,c,g;for(var b in U){if(U.hasOwnProperty(b)){if(h=[],f=U[b],f.name&&(h.push(f.name.toLowerCase()),f.options&&f.options.aliases&&f.options.aliases.length)){for(k=0;k<f.options.aliases.length;k++){h.push(f.options.aliases[k].toLowerCase())}}for(j=Y(f.fn,"function")?f.fn():f.fn,d=0;d<h.length;d++){c=h[d],g=c.split("."),1===g.length?B[g[0]]=j:(!B[g[0]]||B[g[0]] instanceof Boolean||(B[g[0]]=new Boolean(B[g[0]])),B[g[0]][g[1]]=j),J.push((j?"":"no-")+g.join("-"))}}}}function ag(c){var a=an.className,d=B._config.classPrefix||"";if(A&&(a=a.baseVal),B._config.enableJSClass){var b=new RegExp("(^|\\s)"+d+"no-js(\\s|$)");a=a.replace(b,"$1"+d+"js$2")}B._config.enableClasses&&(a+=" "+d+c.join(" "+d),A?an.className.baseVal=a:an.className=a)}function ao(){return"function"!=typeof V.createElement?V.createElement(arguments[0]):A?V.createElementNS.call(V,"http://www.w3.org/2000/svg",arguments[0]):V.createElement.apply(V,arguments)}function W(){var a=V.body;return a||(a=ao(A?"svg":"body"),a.fake=!0),a}function ad(s,h,a,g){var k,j,w,v,m="modernizr",t=ao("div"),b=W();if(parseInt(a,10)){for(;a--;){w=ao("div"),w.id=g?g[a]:m+(a+1),t.appendChild(w)}}return k=ao("style"),k.type="text/css",k.id="s"+m,(b.fake?b:t).appendChild(k),b.appendChild(t),k.styleSheet?k.styleSheet.cssText=s:k.appendChild(V.createTextNode(s)),t.id=m,b.fake&&(b.style.background="",b.style.overflow="hidden",v=an.style.overflow,an.style.overflow="hidden",an.appendChild(b)),j=h(t,s),b.fake?(b.parentNode.removeChild(b),an.style.overflow=v,an.offsetHeight):t.parentNode.removeChild(t),!!j}function R(a){return a.replace(/([a-z])-([a-z])/g,function(c,b,d){return b+d.toUpperCase()}).replace(/^-/,"")}function am(b,a){return !!~(""+b).indexOf(a)}function aj(b,a){return function(){return b.apply(a,arguments)}}function al(c,b,f){var d;for(var a in c){if(c[a] in b){return f===!1?c[a]:(d=b[c[a]],Y(d,"function")?aj(d,f||b):d)}}return !1}function Z(a){return a.replace(/([A-Z])/g,function(c,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function ac(b,c){var d=b.length;if("CSS" in ak&&"supports" in ak.CSS){for(;d--;){if(ak.CSS.supports(Z(b[d]),c)){return !0}}return !1}if("CSSSupportsRule" in ak){for(var a=[];d--;){a.push("("+Z(b[d])+":"+c+")")}return a=a.join(" or "),ad("@supports ("+a+") { #modernizr { position: absolute; } }",function(f){return"absolute"==getComputedStyle(f,null).position})}return ab}function ah(r,z,b,j){function C(){n&&(delete D.style,delete D.modElem)}if(j=Y(j,"undefined")?!1:j,!Y(b,"undefined")){var c=ac(r,b);if(!Y(c,"undefined")){return c}}for(var n,u,a,k,x,m=["modernizr","tspan","samp"];!D.style&&m.length;){n=!0,D.modElem=ao(m.shift()),D.style=D.modElem.style}for(a=r.length,u=0;a>u;u++){if(k=r[u],x=D.style[k],am(k,"-")&&(k=R(k)),D.style[k]!==ab){if(j||Y(b,"undefined")){return C(),"pfx"==z?k:!0}try{D.style[k]=b}catch(w){}if(D.style[k]!=x){return C(),"pfx"==z?k:!0}}}return C(),!1}function P(g,d,j,h,c){var b=g.charAt(0).toUpperCase()+g.slice(1),f=(g+" "+af.join(b+" ")+b).split(" ");return Y(d,"string")||Y(d,"undefined")?ah(f,d,h,c):(f=(g+" "+L.join(b+" ")+b).split(" "),al(f,d,j))}function ai(c,a,b){return P(c,ab,ab,a,b)}var J=[],U=[],X={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(b,a){var c=this;setTimeout(function(){a(c[b])},0)},addTest:function(b,a,c){U.push({name:b,fn:a,options:c})},addAsyncTest:function(a){U.push({name:null,fn:a})}},B=function(){};B.prototype=X,B=new B;var ap=X._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];X._prefixes=ap;var an=V.documentElement,A="svg"===an.nodeName.toLowerCase();A||!function(au,x){function N(d,a){var f=d.createElement("p"),c=d.getElementsByTagName("head")[0]||d.documentElement;return f.innerHTML="x<style>"+a+"</style>",c.insertBefore(f.lastChild,c.firstChild)}function C(){var a=w.elements;return"string"==typeof a?a.split(" "):a}function M(c,a){var d=w.elements;"string"!=typeof d&&(d=d.join(" ")),"string"!=typeof c&&(c=c.join(" ")),w.elements=d+" "+c,k(a)}function T(c){var a=b[c[j]];return a||(a={},ar++,c[j]=ar,b[ar]=a),a}function ax(c,f,a){if(f||(f=x),at){return f.createElement(c)}a||(a=T(f));var d;return d=a.cache[c]?a.cache[c].cloneNode():aq.test(c)?(a.cache[c]=a.createElem(c)).cloneNode():a.createElem(c),!d.canHaveChildren||O.test(c)||d.tagUrn?d:a.frag.appendChild(d)}function z(g,i){if(g||(g=x),at){return g.createDocumentFragment()}i=i||T(g);for(var h=i.frag.cloneNode(),d=0,f=C(),c=f.length;c>d;d++){h.createElement(f[d])}return h}function S(c,a){a.cache||(a.cache={},a.createElem=c.createElement,a.createFrag=c.createDocumentFragment,a.frag=a.createFrag()),c.createElement=function(d){return w.shivMethods?ax(d,c,a):a.createElem(d)},c.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+C().join().replace(/[\w\-:]+/g,function(d){return a.createElem(d),a.frag.createElement(d),'c("'+d+'")'})+");return n}")(w,a.frag)}function k(c){c||(c=x);var a=T(c);return !w.shivCSS||aw||a.hasCSS||(a.hasCSS=!!N(c,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),at||S(c,a),c}var aw,at,av="3.7.3",F=au.html5||{},O=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,aq=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,j="_html5shiv",ar=0,b={};!function(){try{var a=x.createElement("a");a.innerHTML="<xyz></xyz>",aw="hidden" in a,at=1==a.childNodes.length||function(){x.createElement("a");var d=x.createDocumentFragment();return"undefined"==typeof d.cloneNode||"undefined"==typeof d.createDocumentFragment||"undefined"==typeof d.createElement}()}catch(c){aw=!0,at=!0}}();var w={elements:F.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:av,shivCSS:F.shivCSS!==!1,supportsUnknownElements:at,shivMethods:F.shivMethods!==!1,type:"default",shivDocument:k,createElement:ax,createDocumentFragment:z,addElements:M};au.html5=w,k(x),"object"==typeof module&&module.exports&&(module.exports=w)}("undefined"!=typeof ak?ak:this,V);var K="Moz O ms Webkit",L=X._config.usePrefixes?K.toLowerCase().split(" "):[];X._domPrefixes=L;var q=function(){function b(d,c){var f;return d?(c&&"string"!=typeof c||(c=ao(c||"div")),d="on"+d,f=d in c,!f&&a&&(c.setAttribute||(c=ao("div")),c.setAttribute(d,""),f="function"==typeof c[d],c[d]!==ab&&(c[d]=ab),c.removeAttribute(d)),f):!1}var a=!("onblur" in V.documentElement);return b}();X.hasEvent=q;var G=X.testStyles=ad;B.addTest("touchevents",function(){var b;if("ontouchstart" in ak||ak.DocumentTouch&&V instanceof DocumentTouch){b=!0}else{var a=["@media (",ap.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");G(a,function(c){b=9===c.offsetTop})}return b});var af=X._config.usePrefixes?K.split(" "):[];X._cssomPrefixes=af;var I=function(e){var g,h=ap.length,d=ak.CSSRule;if("undefined"==typeof d){return ab}if(!e){return !1}if(e=e.replace(/^@/,""),g=e.replace(/-/g,"_").toUpperCase()+"_RULE",g in d){return"@"+e}for(var c=0;h>c;c++){var f=ap[c],b=f.toUpperCase()+"_"+g;if(b in d){return"@-"+f.toLowerCase()+"-"+e}}return !1};X.atRule=I;var Q={elem:ao("modernizr")};B._q.push(function(){delete Q.elem});var D={style:Q.elem.style};B._q.unshift(function(){delete D.style}),X.testAllProps=P;var ae=X.prefixed=function(b,a,c){return 0===b.indexOf("@")?I(b):(-1!=b.indexOf("-")&&(b=R(b)),a?P(b,a,c):P(b,"pfx"))};B.addTest("forcetouch",function(){return q(ae("mouseforcewillbegin",ak,!1),ak)?MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN&&MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN:!1}),X.testAllProps=ai,B.addTest("csstransitions",ai("transition","all",!0)),aa(),ag(J),delete X.addTest,delete X.addAsyncTest;for(var H=0;H<B._q.length;H++){B._q[H]()}ak.Modernizr=B}(window,document);(function($){var $body=$("body"),sliderFade=$body.hasClass("slider-fade"),headerOffset,menuTop=0,resizeTimer;var MediaPrint=false;$(document).ready(function(){if(window.innerWidth>=1440){$(".sd-content").stick_in_parent({parent:"#singlepost-wrap",offset_top:80})}if(window.innerWidth>=1060){$("#overlay-nav a").attr("tabindex","-1")}var pcol=$("#printhead").css("color");var pcon=$("#printhead").css("content");if((pcon="Print")||(pcol="black")){MediaPrint=true}$(".sorttable").tablesorter()});$(".overlay-open").on("click",function(){$("html").addClass("overlay-show");$("body").addClass("overlay-show")});$("#overlay-close").on("click",function(){$("html").removeClass("overlay-show");$("body").removeClass("overlay-show")});$("#overlay-wrap").on("click",function(){$("html").removeClass("overlay-show");$("body").removeClass("overlay-show")});$("#offcanvas-widgets-open").on("click",function(){$("body").toggleClass("offcanvas-widgets-show")});$("#comments-toggle").on("click",function(){$("body").toggleClass("comments-show")});$(".comments-link").on("click",function(){$("body").addClass("comments-show")});$(".search-open").on("click",function(){$("body").toggleClass("desktop-search-show");var searchInput=$(".desktop-search input#s");searchInput.focus()});$(".desktop-search").focusout(function(){$("body").removeClass("desktop-search-show")});$(".search-close").on("click",function(){$("body").removeClass("desktop-search-show")});$(".cart-offcanvas-open").on("click",function(){$("body").toggleClass("offcanvascart-show")});$(".cart-close").on("click",function(){$("body").removeClass("offcanvascart-show")});if($.fn.slick){$(document).ready(function(){if(sliderFade){$(".featured-slider").slick({dots:false,slidesToShow:1,autoplay:false,cssEase:"ease",draggable:true,pauseOnHover:false,infinite:true,adaptiveHeight:true,fade:true,})}else{$(".featured-slider").slick({dots:false,slidesToShow:1,autoplay:false,cssEase:"ease",draggable:true,pauseOnHover:false,infinite:true,adaptiveHeight:true,})}})}$(".fadein").viewportChecker({classToAdd:"inview",removeClassAfterAnimation:false});$(".product-category").viewportChecker({classToAdd:"inview",removeClassAfterAnimation:false});$(".type-post").viewportChecker({classToAdd:"inview",removeClassAfterAnimation:false});$(".instagram-pics li").viewportChecker({classToAdd:"inview",removeClassAfterAnimation:false});$(".section-about-text").viewportChecker({classToAdd:"inview",removeClassAfterAnimation:false});$('a[href^="#"]').on("click",function(event){var target=$(this.getAttribute("href"));if(target.length){event.preventDefault();$("html, body").stop().animate({scrollTop:target.offset().top},700)}});$(window).scroll(function(){if($(window).scrollTop()>$(window).height()*1){$(".container-all").addClass("scroll")}if($(window).scrollTop()<$(window).height()*1){$(".container-all").removeClass("scroll")}});$(function(){var stickyheader=$(".sticky-header");$(window).scroll(function(){var scroll=$(window).scrollTop();if(scroll>=200){$("body").addClass("header-stick");stickyheader.removeClass("hidden")}else{$("body").removeClass("header-stick");stickyheader.addClass("hidden")}})});$(document).ready(function(){if(window.innerWidth>=1060){$(".blog #secondary .widget:last-child").stick_in_parent({parent:"#blog-wrap",offset_top:80})}});$(document).ready(function(){if(window.innerWidth>=1060){$(".single-post #secondary .widget:last-child").stick_in_parent({parent:"#singlepost-wrap",offset_top:80})}});$(".accordion-body").not(".accordion-body.open").not(".accordion-body.stayopen").hide();$(".accordion-toggle").bind("click",function(event){event.preventDefault();var accordion=$(this).attr("href");$(this).closest(".accordion").find(".accordion-toggle").not($(this)).removeClass("active");$(this).closest(".accordion").find(".accordion-body").not(accordion).not(".accordion-body.stayopen").slideUp();$(this).toggleClass("active");$(accordion).slideToggle()});$(".accordion-toggle").keydown(function(event){if(event.keyCode==32){var accordion=$(this).attr("href");$(this).closest(".accordion").find(".accordion-toggle").not($(this)).removeClass("active");$(this).closest(".accordion").find(".accordion-body").not(accordion).not(".accordion-body.stayopen").slideUp();$(this).toggleClass("active");$(accordion).slideToggle()}});function openAnchorAccordion(){if(window.location.hash){var identifier=window.location.hash.split("_")[0];var inpagenum=window.location.hash.split("_")[1];if(identifier=="#collapse"){if($.isNumeric(inpagenum)){var $findid="collapse_"+inpagenum;var $target=$("body").find("#"+$findid);if($target.closest(".accordion").parent().closest(".accordion-group")){$upper=$target.closest(".accordion").parent().closest(".accordion-group");$upper.find(".accordion-toggle").addClass("active");$upper.find(".accordion-body").show();$upper.find(".accordion-toggle").children().find(".accordion-toggle").removeClass("active");$upper.find(".accordion-body").children().find(".accordion-body").hide()}$target.find(".accordion-toggle").addClass("active");$target.show();var offset=$target.offset();var $scrolloffset=offset.top+40;$("html,body").animate({scrollTop:$scrolloffset},"slow")}}}}openAnchorAccordion();$("#primary").fitVids();$("#singlepost-wrap").fitVids();$("a").not($("#desktop-navigation .mainmenu a")).focus(function(){$(".mainmenu li").removeClass("focus")});$("#desktop-navigation .mainmenu a").focus(function(){$(".mainmenu li").removeClass("focus");$(this).parents("li").addClass("focus");$(this).children("li").addClass("focus");$(this).next(".children, .sub-menu").toggleClass("toggled-on")});$("#desktop-navigation .submenu a").focus(function(){$(".mainmenu li").removeClass("focus");$(this).parents("li").addClass("focus");$(this).children("li").addClass("focus");$(this).next(".children, .sub-menu").toggleClass("toggled-on")});$("#overlay-nav .menu-item-has-children > a").after('<button class="dropdown-toggle" aria-expanded="false">'+screenReaderText.expand+"</button>");$("#overlay-nav .current-menu-ancestor > button").addClass("toggle-on");$("#overlay-nav .current-menu-ancestor > .sub-menu").addClass("toggled-on");$("#overlay-nav .dropdown-toggle").click(function(e){var _this=$(this);e.preventDefault();_this.toggleClass("toggle-on");_this.next(".children, .sub-menu").toggleClass("toggled-on");_this.attr("aria-expanded",_this.attr("aria-expanded")==="false"?"true":"false");_this.html(_this.html()===screenReaderText.expand?screenReaderText.collapse:screenReaderText.expand)});secondary=$("#secondary");button=$(".site-branding").find(".secondary-toggle");(function(){var menu,widgets,social;if(!secondary||!button){return}menu=secondary.find(".nav-menu");widgets=secondary.find("#widget-area");social=secondary.find("#social-navigation");if(!widgets.length&&!social.length&&(!menu||!menu.children().length)){button.hide();return}button.on("click.uku",function(){secondary.toggleClass("toggled-on");secondary.trigger("resize");$(this).toggleClass("toggled-on");if($(this,secondary).hasClass("toggled-on")){$(this).attr("aria-expanded","true");secondary.attr("aria-expanded","true")}else{$(this).attr("aria-expanded","false");secondary.attr("aria-expanded","false")}})})();if(Modernizr.touchevents){$(".picrew-grid > .picrew-grid-card > figure").on("touchend",function(e){if($(e.target).is(".picrew-grid > .picrew-grid-card > figure a")||$(e.target).is(".picrew-grid > .picrew-grid-card > figure a *")){return}e.preventDefault();$(this).toggleClass("cs-hover")})}$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=""}if(table.tBodies.length==0){return}var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter)}else{if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter)}}if(!p){p=detectParserForColumn(table,rows,-1,i)}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n"}list.push(p)}}if(table.config.debug){log(parsersDebug)}return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log("Checking if value was empty on row:"+rowIndex)}}else{keepLooking=false}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i]}}return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i]}}return false}function buildCache(table){if(table.config.debug){var cacheTime=new Date()}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]))}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null}if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime)}return cache}function getElementText(config,node){var text="";if(!node){return""}if(!config.supportsTextContent){config.supportsTextContent=node.textContent||false}if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML}else{text=node.innerHTML}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node)}else{text=$(node).text()}}return text}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j])}}}if(table.config.appender){table.config.appender(table,rows)}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime)}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug){var time=new Date()}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)){this.sortDisabled=true}if(checkHeaderOptionsSortingLocked(table,index)){this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index)}if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader){table.config.onRenderHeader.apply($th)}}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[]}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[]}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++))}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell)}}}return arr}function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true}return false}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true}return false}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder)){return table.config.headers[i].lockedOrder}return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table)}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i]}}}function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0}else{return(v==1)?1:0}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this)}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]])}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date()}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date())}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=="text"&&direction=="asc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));"}else{if(type=="text"&&direction=="desc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));"}else{if(type=="numeric"&&direction=="asc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));"}else{if(type=="numeric"&&direction=="desc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}}}}}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare){return a.localeCompare(b)}return((a<b)?-1:((a>b)?1:0))}function sortTextDesc(a,b){if(table.config.sortLocaleCompare){return b.localeCompare(a)}return((b<a)?-1:((b>a)?1:0))}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies){return}var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder){this.order=this.lockedOrder}if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}}setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false}}if(a){parsers.push(parser)}};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild){this.removeChild(this.firstChild)}}empty.apply(table.tBodies[0])}else{table.tBodies[0].innerHTML=""}}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item}else{r+=item}}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else{if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else{if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}}}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date()}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow)){row++}odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time)}}})})(jQuery);